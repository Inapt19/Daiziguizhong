> 这道题在网上没有找到其它的题解，所以不能验证解法是正解。这里仅供参考。

本题我们可以画成一个二分图。左边的节点是优惠券，右边的节点是物品。左边和右边的每一条连线都可以看做一次购买行为。

## 解法1：最小费用流（TLE）

如果我们在优惠券节点中加入一个叫做“现金”的节点。然后从源点引入m + 1条边，对于优惠券节点，流量为优惠券的金额，费用为0；对于现金节点，流量为无穷大，费用为1。

对于物品节点，我们引出n条边到汇点，流量为物品价格，费用为0。优惠券节点与物品节点之间的边代表购买关系，流量为无穷大，费用为0。现金节点与物品之间有n条边，流量无穷大，费用为0。

这样建图，我们肯定能求出最终的结果。但是由于其时间复杂度为O(n^2 * F)，F为最大流量。所以很容易就构造出让解法超时的数据。

## 解法2：最大流（AC，但存疑）

从费用流的建图方式中，我们看出，只有源点到现金节点的路径上才有费用。所以我们尝试将现金节点移出图。只求二分图的最大流，表示有多少优惠券金额可以用到物品的价格上。最后用物品的总价值减去已优惠的价值，就是我们需要付出的现金。

这种解法的时间复杂度是O(V^2 * M)，V代表顶点数，M代表边数。在N <= 200, M <= 200的情况下，是一定不会超时的。但是数据中会有一组M <= 1200的情况。理论上说，这样一定会超时。

但实际上，我们只用了23ms就通过了此题。我大胆猜测：

1. Dinic算法对于二分图，时间复杂度更低
2. 数据挫了。

感兴趣的同学可以使用别的最大流算法来尝试此题，欢迎大家在Issues中讨论。


## 请我喝一杯可乐

![](https://raw.githubusercontent.com/Inapt19/Resource/master/bonus_QR.jpg)
![](https://raw.githubusercontent.com/Inapt19/Resource/master/wechat_bonus_qr.jpg)

## 待字闺中算法讨论微信群

微信群算法讨论，娱乐比赛开黑等你加入。

![](https://raw.githubusercontent.com/Inapt19/Resource/master/wechat_QR.jpg)
